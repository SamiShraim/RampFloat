name: C# build

# Triggers the workflow on push or pull request events but only for the master branch
on:
  push:
    paths:
      - '.github/workflows/github-actions-demo.yml'
    tags:
      - 'ptc/v*'
  pull_request:
    paths:
      - '.github/workflows/github-actions-demo.yml'

jobs:
  build_project:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
      with:
        fetch-depth: '0'
    - name: Echo environment variables
      run: |
        echo "event_name is ${{ github.event_name }} base_ref is ${{ github.base_ref }} ref is ${{ github.ref }}"
        if [[ "${{ github.ref }}" == refs/tags/* ]]; then
          TAG_NAME="${{ github.ref#refs/tags/ }}"
          echo "tag_name is $TAG_NAME"
        else
          echo "No tag present"
        fi